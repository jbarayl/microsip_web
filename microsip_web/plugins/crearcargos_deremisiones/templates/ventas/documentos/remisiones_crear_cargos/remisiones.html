{% extends "ventas/base.html" %}
{% block title %}remisiones{% endblock %}

<!-- CSS Code -->
{% block style_css %}{% endblock %}

<!-- JavaScript Code -->
{% block js_code %}
  {% include 'autocomplete_light/static.html' %}
  <script src="{{STATIC_URL}}js/ventas.documentos.remisiones_crear_cargos.js"></script>
{% endblock %}

{% block breadcrumb %}{{ block.super }} remisiones {% endblock %}
{% block content %}
<div class="row-fluid">
{{ search_form.errors }}
</div>
<div class="row-fluid">
  <div class="span3"><h3 style="margin:0;"> Remisiones</h3>generar cargos </div>

  <form method="get" id='formulario'class="form-inline" action=""  enctype='multipart/form-data' style="float: left;margin-right: .5em;">
    {% csrf_token %}
    <div class="form-group">
      <span style="float:left">
      {{  search_form.cliente }}
      {{  search_form.inicio }}
      {{  search_form.fin }}
      <input type="submit" class="btn btn-primary" onclick="this.disabled=true,this.form.submit(), this.value='Buscando...';" value="Buscar" />
      <a href="#" id="generar_cargos" class="btn btn-warning hidden"> Generar cargos</a>
    </span>
  </div>
    
  </form>
</div>
<table class="table tableCell table-hover">
    <tr>
      <th><input type="checkbox" name="seleccion_all" value=""></td></th>
      <th>Folio</th>
      <th>Fecha</th>
      <th>Cliente</th>
      <th>Total</th>
    </tr>
    {% for documento in documentos %}
    <tr>
      <td>
        {% if not documento.cargo_generado %}
        <input type="checkbox" name="seleccion" value="{{ documento.id }}"></td>
        {% endif %}
      <td>{{ documento.folio }}</td>
      <td>{{ documento.fecha|date:"M d, Y" }}</td>
      <td>{{ documento.cliente }}</td>
      <td>$ {{ documento.importe_total }}</td>
    </tr>
    {% endfor %}

    <div class="pagination pagination-mini mainmenu">
      <ul>
        {% if page_obj.has_previous %}
        <li><a href="?page={{ page_obj.previous_page_number }}">Anterior</a></li>
        {% else %}
        <li class="disabled"><a href="#">Anterior</a></li>
        {% endif %}
        <li class="disabled"><a href="#">Pagina {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.</a></li>
        {% if page_obj.has_next %}
        <li><a href="?page={{ page_obj.next_page_number }}">Siguiente</a></li>
        {% else %}
        <li class="disabled"><a href="#">Siguiente</a></li>
        {% endif %} 
      </ul>
    </div>
</table>
<br>
{% endblock %}